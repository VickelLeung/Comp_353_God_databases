
CREATE TABLE Employees(
    SIN INT AUTO_INCREMENT PRIMARY KEY,
    UNIQUE (SIN),
    Name CHAR(20) NOT NULL,
    UNIQUE(Name),
    Gender CHAR(6) NOT NULL,
    DOB CHAR(20) NOT NULL,
    Address CHAR(50) NOT NULL,
    PhoneNumber CHAR(10)NOT NULL,
    Salary int NOT NULL,
    DeptNumber int NOT NULL
);

ALTER TABLE Employees ADD FOREIGN KEY (Deptnumber) REFERENCES Departments(ID);

CREATE TABLE Dependants(
    SID INT AUTO_INCREMENT PRIMARY KEY,
    Name CHAR(20) NOT NULL,
    Gender CHAR(6) NOT NULL,
    DOB VAR(20) NOT NULL,
    EmployeeSIN INT,
    FOREIGN KEY (EmployeeSIN) REFERENCES Employees(SIN) 
    ON DELETE CASCADE
 );

/*CREATE TABLE RelatesTo(
    EmployeeSIN int NOT NULL,
    DependantSIN int NOT NULL,
    FOREIGN KEY (DependantSIN) REFERENCES Dependants(SID) ON DELETE CASCADE,
    FOREIGN KEY (EmployeeSIN) REFERENCES Employees(SIN) ON DELETE CASCADE
);/*

CREATE TABLE Supervises(
    SubordinateIN int NOT NULL,
    ManagerSIN int NOT NULL,
    FOREIGN KEY (SubordinateSIN) REFERENCES Employees(SIN) ON DELETE CASCADE,
    FOREIGN KEY (ManagerSIN) REFERENCES Employees(SIN) ON DELETE CASCADE
);

CREATE TABLE Departments(
    Name CHAR(20),
    UNIQUE(Name),
    ID int,
    UNIQUE(ID),
    PRIMARY KEY(SID, TID)
);

CREATE TABLE Locations(
    Name CHAR(20) NOT NULL,
    DeptNum INT PRIMARY KEY NOT NULL
);

CREATE TABLE Projects(
    ID int PRIMARY KEY,
    Location CHAR(20) NOT NULL,
    Name CHAR(20) NOT NULL,
    Stage CHAR(20) NOT NULL,
    DeptID int NOT NULL,
    ManagerID int NOT NULL,
    FOREIGN KEY (DeptID) REFERENCES Departments(ID) ON DELETE CASCADE,
    FOREIGN KEY (ManagerID) REFERENCES Employees(SIN) ON DELETE CASCADE    
);

CREATE TABLE WorksOn(
    WorkerSIN int NOT NULL,
    ProjectID int NOT NULL,
    HoursWorked int,
    FOREIGN KEY (WorkerSIN) REFERENCES Employee(SIN) ON DELETE CASCADE,
    FOREIGN KEY (ProjectID) REFERENCES Projects(ID) ON DELETE CASCADE
 );
 
 CREATE TABLE Manages(
    DeptNum int NOT NULL,
    ManagerSIN int NOT NULL,
    StartDate date NOT NULL,
    FOREIGN KEY (ManagerSIN) REFERENCES Employee(SIN) ON DELETE CASCADE,
    FOREIGN KEY (DeptNum) REFERENCES Departments(ID) ON DELETE CASCADE
  );
    
